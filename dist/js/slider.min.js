const SliderClassName="index-slider",SliderLineClassName="index-slider__line",SliderItemClassName="index-slider__item",SliderDraggableClassName="draggable",SliderDotsClassName="index-slider__dots",SliderDotClassName="index-slider__dot",SliderDotActiveClassName="index-slider__dot--active",SliderNavClassName="index-slider__btns",SliderNavLeftClassName="index-slider__btn-left",SliderNavRightClassName="index-slider__btn-right",SliderNavDisabledClassName="index-slider__btn-disabled";class Slider{constructor(e,t={}){this.containerNode=e,this.size=e.childElementCount,this.currentSlide=0,this.currentSlideWasChanged=!1,this.settings={margin:t.margin||0,innerElementsClass:t.innerElementsClass||""},this.manageHTML=this.manageHTML.bind(this),this.setParameters=this.setParameters.bind(this),this.setEvents=this.setEvents.bind(this),this.resize=this.resize.bind(this),this.startDrag=this.startDrag.bind(this),this.stopDrag=this.stopDrag.bind(this),this.dragging=this.dragging.bind(this),this.setStylePosition=this.setStylePosition.bind(this),this.progressBar=this.progressBar.bind(this),this.moveToLeft=this.moveToLeft.bind(this),this.moveToRight=this.moveToRight.bind(this),this.changeCurrentSlide=this.changeCurrentSlide.bind(this),this.changeDisabledBtn=this.changeDisabledBtn.bind(this),this.manageHTML(),this.setParameters(),this.setEvents()}manageHTML(){this.containerNode.classList.add(SliderClassName),this.containerNode.innerHTML=`
      <div class="${SliderLineClassName}">
        ${this.containerNode.innerHTML}
      </div>
      <div class="${SliderNavClassName}">
        <button class="${SliderNavLeftClassName}"></button>
        <button class="${SliderNavRightClassName}"></button>
      </div>
      <div class="${SliderDotsClassName}"></div>
    `,this.lineNode=this.containerNode.querySelector("."+SliderLineClassName),this.dotsNode=this.containerNode.querySelector("."+SliderDotsClassName),this.slideNodes=Array.from(this.lineNode.children).map(e=>wrapElementByDiv({element:e,className:SliderItemClassName})),this.dotsNode.innerHTML=`<button class="${SliderDotClassName}"></button>`,this.btnLeft=document.querySelector("."+SliderNavLeftClassName),this.btnRight=document.querySelector("."+SliderNavRightClassName)}setParameters(){const i=this.containerNode.getBoundingClientRect();this.containerNode.querySelectorAll(".slider__item")?document.documentElement.clientWidth<992?(this.containerNode.querySelectorAll(".slider__item").forEach((e,t)=>{console.log(e.scrollWidth-i.width/100),this.width=e.scrollWidth-i.width/100}),this.settings.margin=0,this.size=3*this.containerNode.querySelectorAll(".slider__item").length):(this.size=this.containerNode.querySelectorAll(".slider__item").length,this.width=i.width,this.currentSlide=0,this.settings.margin=this.settings.margin+5):this.width=i.width,this.dotsNode.children[0].style.width="50%",this.maximumX=-(this.size-1)*(this.width+this.settings.margin),this.x=-this.currentSlide*(this.width+this.settings.margin),this.resetStyleTransition(),this.lineNode.style.width=this.size*(this.width+this.settings.margin)+"px",this.setStylePosition(),this.changeDisabledBtn(),Array.from(this.slideNodes).forEach(e=>{e.style.width=this.width+"px",e.style.marginRight=this.settings.margin+"px"})}setEvents(){this.debonceResize=debonce(this.resize),window.addEventListener("resize",this.debonceResize),this.lineNode.addEventListener("pointerdown",this.startDrag),window.addEventListener("pointerup",this.stopDrag),window.addEventListener("pointercancel",this.stopDrag),this.btnLeft.addEventListener("click",this.moveToLeft),this.btnRight.addEventListener("click",this.moveToRight)}destroyEvents(){window.removeEventListener("resize",this.debonceResize),this.lineNode.removeEventListener("pointerdown",this.startDrag),window.removeEventListener("pointerup",this.stopDrag),window.removeEventListener("pointercancel",this.stopDrag),this.btnLeft.removeEventListener("click",this.moveToLeft),this.btnRight.removeEventListener("click",this.moveToRight)}resize(){this.setParameters(),this.setStylePosition()}startDrag(e){this.currentSlideWasChanged=!1,this.clickX=e.pageX,this.startX=this.x,this.resetStyleTransition(),this.containerNode.classList.add(SliderDraggableClassName),window.addEventListener("pointermove",this.dragging)}stopDrag(){window.removeEventListener("pointermove",this.dragging),this.containerNode.classList.remove(SliderDraggableClassName),this.changeCurrentSlide()}dragging(e){this.dragX=e.pageX;var e=this.dragX-this.clickX,t=e/5;this.x=Math.max(Math.min(e+this.startX,t),this.maximumX+t),document.documentElement.clientWidth<1310&&this.setStylePosition(),7<e&&0<e&&!this.currentSlideWasChanged&&0<this.currentSlide&&(this.currentSlideWasChanged=!0,this.currentSlide=this.currentSlide-1),e<-7&&e<0&&!this.currentSlideWasChanged&&this.currentSlide<this.size-1&&(this.currentSlideWasChanged=!0,this.currentSlide=this.currentSlide+1)}moveToRight(){this.currentSlide>=this.size-1||(this.currentSlide=this.currentSlide+1,this.changeCurrentSlide())}moveToLeft(){this.currentSlide<=0||(this.currentSlide=this.currentSlide-1,this.changeCurrentSlide())}changeCurrentSlide(){this.x=-this.currentSlide*(this.width+this.settings.margin),this.setStylePosition(),this.setStyleTransition(),this.changeDisabledBtn()}progressBar(){console.log(this)}changeDisabledBtn(){this.currentSlide<=0?this.btnLeft.classList.add(SliderNavDisabledClassName):this.btnLeft.classList.remove(SliderNavDisabledClassName),this.currentSlide>=this.size-1?this.btnRight.classList.add(SliderNavDisabledClassName):this.btnRight.classList.remove(SliderNavDisabledClassName)}setStylePosition(){document.documentElement.clientWidth<992?this.lineNode.style.transform=`translate3d(${this.x/3+this.settings.margin}px, 0, 0)`:this.lineNode.style.transform=`translate3d(${this.x}px, 0, 0)`}setStyleTransition(){this.lineNode.style.transition="all 0.25s ease 0s"}resetStyleTransition(){this.lineNode.style.transition="all 0s ease 0s"}}function wrapElementByDiv({element:e,className:t}){var i=document.createElement("div");return i.classList.add(t),e.parentNode.insertBefore(i,e),i.appendChild(e),i}function debonce(t,i=200){let s;return function(e){clearTimeout(s),s=setTimeout(t,i,e)}}