const dataProcessing=t=>{return t.flat().reduce((t,e)=>(t.find(t=>t.title==e.title)||t.push(e),t),[])},uniq=t=>{var s={boolean:{},number:{},string:{}},i=[];return t.filter(function(t){var e=typeof t;return e in s?!s[e].hasOwnProperty(t)&&(s[e][t]=!0):!(0<=i.indexOf(t))&&i.push(t)})},isInPage=t=>t!==document.body&&document.body.contains(t);function debonce(e,s=200){let i;return function(t){clearTimeout(i),i=setTimeout(e,s,t)}}const notSlider=()=>-1,pageLoaded=(t,e)=>{"loading"!==document.readyState?isInPage(document.getElementById(t))?e(document.getElementById(t)):notSlider():document.addEventListener("DOMContentLoaded",function(){isInPage(document.getElementById(t))?e(document.getElementById(t)):notSlider()})},basket=()=>{let t=document.querySelectorAll(".game-card__action-incard");const r=document.querySelector(".basket-content__games"),o=(t=document.querySelectorAll(".game-card__action-incard"),new class{#items=[];addItem(t){this.#items.push(t),this.save()}removeItem(e){var t=this.#items.findIndex(t=>t.id===e.id);-1!==t&&(this.#items.splice(t,1),this.save())}getItems(){return this.#items}save(){localStorage.setItem("cart",JSON.stringify(this.#items))}load(){var t=localStorage.getItem("cart");t&&(this.#items=JSON.parse(t))}}),l=(o.load(),()=>{var t=o.getItems().length;document.querySelector(".basket__num").textContent=t});var e;const a=t=>t.replace(/,/g,".");if(l(),document.getElementById("basket-page")){console.log(o.getItems());const d=document.getElementById("form-basket");const n=()=>{0!==o.getItems().length&&1310<document.documentElement.scrollWidth?d.style.display="block":d.style.display="none"},c=t=>{var e,s=t.querySelector(".form-basket__total-sum > span"),t=t.querySelector(".form-basket__total-items > span"),i=document.querySelectorAll(".basket-content__game");n(),i&&(i=Number(o.getItems().reduce((t,e)=>{var s=e.price.trim().slice(0,-1);return t+a(s)*parseInt(e.quantity,10)},0)).toFixed(3),e=Number(o.getItems().reduce((t,e)=>t+parseInt(e.quantity,10),0)),0<o.getItems().length)&&(s.innerText=String(i).replace(/\./g,",")+" ₽",t.innerText=e)};e=()=>{document.querySelectorAll(".basket-content__game-del").forEach(t=>{t.addEventListener("click",t=>{var t=t.currentTarget.parentNode.closest(".basket-content__game"),e={id:t.dataset.id};{var s=t,i=e;const a=document.querySelector(".popup"),n=t=>{var e=document.querySelector('[aria-label="Удалить"]');console.log(t.target),t.target===e&&null!==s?(s.remove(),o.removeItem(i),l(),c(d)):!t.target.closest(".light-btn")&&!t.target.closest(".popup__close-item")&&t.target.closest(".delete__wrapp")||(s=i=null,a.removeEventListener("click",n))};a.addEventListener("click",n)}})})},o.getItems().forEach(t=>{var e,s,i,a,n;r.insertAdjacentHTML("afterbegin",(n=t.img,e=t.title,s=t.price,i=t.id,a=t.quantity,`
    <div class="basket-content__game" data-id="${i}">
      <div class="basket-content__game-info">
          <img class="basket-content__game-image"
            src="${n}" alt="game image prev">
          <div class="basket-content__game-text">
              <span class="basket-content__game-name">
                ${e.trim()}
              </span>
              <span class="basket-content__game-sum">
                ${s.trim()}
              </span>
              <div class="basket-content__control btns-control">
                  <button class="btns-control__item" type="button" data-action="minus">-</button>
                  <div class="btns-control__current" data-counter>${a}</div>
                  <button class="btns-control__item" type="button" data-action="plus">+</button>
              </div>
          </div>
      </div>
      <div class="basket-content__game-select">
          <button class="basket-content__game-del" aria-label="Удалить товар" data-path="deleteItem-path">
              <img src="./images/icons/btn-delete.svg" alt=""></button>
          <div class="basket-content__select-app">
              <div class="basket-content__select-wrapp">

                  <div id="select-${i}">

                  </div>

                </div>
          </div>
      </div>
  </div> `)),n=t.id,new Select("#select-"+n,{placeholder:"Выберите способ покупки",selectedId:"1",data:[{id:"1",value:"Аренда через семейный доступ"},{id:"2",value:"Аренда через личный доступ"}]})}),e(),c(d);const i=()=>{document.querySelectorAll(".btns-control").forEach(t=>{var e=t.querySelector("[data-counter]"),t=t.querySelector('[data-action="minus"]');1===parseInt(e.innerText)?(t.style.color="rgb(0 141 210 / 32%)",t.disabled=!0):(t.style.color="#008dd2",t.disabled=!1)})};i(),r.addEventListener("click",t=>{if(t.target.dataset.action){var e=t.target.closest(".btns-control").querySelector("[data-counter]");const s=t.target.parentNode.closest(".basket-content__game");"plus"===t.target.dataset.action&&(e.innerText=++e.innerText,o.getItems().forEach(t=>{s.dataset.id===t.id&&(t.quantity+=1),o.save()}),l()),"minus"===t.target.dataset.action&&1<parseInt(e.innerText,10)&&(e.innerText=--e.innerText,o.getItems().forEach(t=>{s.dataset.id===t.id&&t.quantity--,o.save()}),l()),i(),c(d)}}),window.addEventListener("resize",debonce(n))}t.forEach(t=>{t.addEventListener("click",t=>{var t=t.currentTarget.parentNode.closest(".game-card");const s={title:(t=t).querySelector(".game-card__title").textContent,price:t.querySelector(".game-card__sum").textContent,img:t.querySelector(".game-card__img").getAttribute("src"),id:t.dataset.id,quantity:1};o.getItems().some(t=>t.id===s.id||t.title===s.title)?o.getItems().forEach(t=>{var e=t;s.id===t.id&&(e.quantity+=1),o.save()}):o.addItem(s),l()})})},categoryes={action:"Экшен",indie:"Инди",shooter:"Шутер",adventures:"Приключения",strategy:"Стратегия",simulator:"Симулятор",rolePlaying:"Ролевые",race:"Гонки",mmo:"ММО",fighting:"Файтинг",casual:"Казульные",dlc:"DLC"},cardsData=[{id:111,title:"Death Stranding Q",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",image:"./images/games/catalog/game-0.jpg",params:{payMethod:["Личный аккаунт"],category:[categoryes.action,categoryes.shooter,categoryes.mmo,categoryes.rolePlaying,categoryes.casual]},price:"359,1299 ₽"},{id:222,title:"Death Stranding R",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",image:"./images/games/catalog/game-1.jpg",params:{payMethod:["Личный аккаунт","Семейный аккаунт"],category:[categoryes.race,categoryes.strategy,categoryes.dlc]},price:"1359,1199 ₽"},{id:333,title:"Death Stranding S",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",image:"./images/games/catalog/game-2.jpg",params:{payMethod:["Личный аккаунт","Семейный аккаунт"],category:[categoryes.rolePlaying,categoryes.adventures]},price:"559,599 ₽"},{id:444,title:"Death Stranding T",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",image:"./images/games/catalog/game-3.jpg",params:{payMethod:["Личный аккаунт"],category:[categoryes.race,categoryes.indie,categoryes.strategy,categoryes.adventures,categoryes.action,categoryes.dlc,categoryes.fighting]},price:"759,599 ₽"},{id:555,title:"Death Stranding U",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",image:"./images/games/catalog/game-4.jpg",params:{payMethod:["Личный аккаунт"],category:[categoryes.race]},price:"259,699 ₽"},{id:666,title:"Death Stranding V",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",image:"./images/games/catalog/game-3.jpg",params:{payMethod:["Семейный аккаунт"],category:[categoryes.adventures,categoryes.rolePlaying,categoryes.action]},price:"2359,999 ₽"},{id:777,title:"Death Stranding W",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",image:"./images/games/catalog/game-2.jpg",params:{payMethod:["Личный аккаунт"],category:[categoryes.adventures,categoryes.casual,categoryes.dlc,categoryes.strategy]},price:"13359,599 ₽"},{id:888,title:"Death Stranding X",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",image:"./images/games/catalog/game-1.jpg",params:{payMethod:["Семейный аккаунт"],category:[categoryes.indie]},price:"5359,199 ₽"},{id:998,title:"Death Stranding Y",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",params:{payMethod:["Семейный аккаунт"],category:[categoryes.fighting,categoryes.shooter]},price:"11059,299 ₽"},{id:999,title:"Death Stranding Z",description:"Множество игровых компаний, в том числе, EA, Ubisoft, Take-Two заявили о...",image:"./images/games/catalog/game-0.jpg",params:{payMethod:["Личный аккаунт"],category:[categoryes.strategy,categoryes.shooter,categoryes.indie]},price:"959,599 ₽"}],filter=()=>{let o=[];if(isInPage(document.getElementById("catalog-games"))){const l={catalogGames:document.getElementById("catalog-games"),filterBlock:document.querySelector(".catalog__buttons"),filterBtns:document.querySelectorAll(".catalog-btn")},i=(t,e)=>0===Number(e)||1===Number(e)?t[e]:"+"+(+t.length-2),d=e=>{var s=[];for(let t=0;t<e.length;t+=1)s.push(`
        <div class="game-card" data-id="${e[t].id}">
                  <div class="game-card__info">
                      <div class="game-card__img-box">
                          <img class="game-card__img"
                          src="${void 0!==e[t].image?e[t].image:String("./images/games/catalog/default.jpg")}"
                              alt="Death Stranding game">
                      </div>
                      <div class="game-card__genres">
                        ${(e=>{var s=[];for(let t=0;t<e.params.category.length;t+=1)s.push(`
          <a class="game-card__genre" href="#">
            ${e.params.category.length<3?e.params.category[t]:i(e.params.category,t)}
          </a>     
      `);return 3<=s.length&&s.splice(3).join(""),s.join("")})(e[t])}
                      </div>
  
                      <div class="game-card__accounts game-card__accounts-large">
                          <a class="game-card__accounts-item game-card__accounts-pers" href="#">
                          ${e[t].params.payMethod[0]}
                          </a>
                      </div>
                  </div>
                  <div class="game-card__footer">
                      <div class="game-card__footer-box">
                          <div class="game-card__description">
                              <h5 class="game-card__title">
                                  <a class="game-card__link" href="#">
                                    ${e[t].title}
                                  </a>
                              </h5>
                              <p class="game-card__subtitle">
                                ${e[t].description}
                              </p>
                              <span class="game-card__sum">
                              ${e[t].price}
                              </span>
                          </div>
  
                      </div>
                      <div class="game-card__action">
                          <button class="game-card__action-incard light-accent-btn">
                              В корзину
                          </button>
                          <a class="game-card__action-buy light-btn" href="#">
                              Купить
                          </a>
                      </div>
                  </div>
              </div>
          `);return s},e=(l.catalogGames.innerHTML=d(cardsData).join(""),t=>{let r;t.addEventListener("click",t=>{var e,s,t=t.target;const i=t.dataset.fil;if(t.classList.toggle("catalog-btn--active"),r=cardsData.filter(t=>{var e=new RegExp(i),t=t.params.category;return e.test(t)}),t.closest(".catalog-btn--active"))o.push(r),o=uniq(dataProcessing(o));else{t=[...document.querySelectorAll(".catalog-btn--active")];const n=[];t.forEach(t=>{t=t.dataset.fil;n.push(t)}),o=o.flat().filter(({params:t})=>t.category.some(t=>n.includes(t)))}t=Number(o.length),e=document.querySelectorAll(".catalog-btn--active").length,a=document.getElementById("selected-categories"),s=document.getElementById("selected-games"),a.innerText=e,s.innerText=`( ${t} )`;var a=d(uniq(dataProcessing(o).flat()));l.catalogGames.innerHTML=uniq(a.flat()).join(""),basket()})});l.filterBtns.forEach(t=>e(t))}};class Modal{constructor(t){this.options=Object.assign({isOpen:()=>{},isClose:()=>{}},t),this.modal=document.querySelector(".popup"),this.speed=!1,this.animation=!1,this._reOpen=!1,this._nextContainer=!1,this.isOpen=!1,this.modalContainer=!1,this.previousActiveElement=!1,this.fixBlocks=document.querySelectorAll(".fix-block"),this.focusElements=["a[href]","input","button","select","textarea","iframe","[contenteditable]",'[tabindex]:not([tabindex^="-"])'],this.open=this.open.bind(this),this.close=this.close.bind(this),this.focusCatch=this.focusCatch.bind(this),this.focusTrap=this.focusTrap.bind(this),this.disableScroll=this.disableScroll.bind(this),this.enableScroll=this.enableScroll.bind(this),this.lockPadding=this.lockPadding.bind(this),this.unlockPadding=this.unlockPadding.bind(this),this.events()}events(){this.modal&&(document.addEventListener("click",t=>{var e,s,i=t.target.closest("[data-path");i?(e=i.dataset.path,s=i.dataset.animation,i=i.dataset.speed,this.animation=s||"fade",this.speed=i?parseInt(i):300,this._nextContainer=document.querySelector(`[data-target="${e}"]`),this.open()):(t.target.closest(".popup__close-item")||t.target.closest(".delete__button"))&&this.close()}),window.addEventListener("keydown",t=>{27==t.keyCode&&this.isOpen&&this.close(),9==t.keyCode&&this.isOpen&&this.focusCatch(t)}),window.addEventListener("click",t=>{t.target.classList.contains("popup__wrapp")||t.target.closest(".popup__wrapp")||!this.isOpen||this.close()}))}open(t){this.previousActiveElement=document.activeElement,this.isOpen?(this.reOpen=!0,this.close()):(this.modalContainer=this._nextContainer,t&&(this.modalContainer=document.querySelector(`[data-target="${t}"]`)),this.modalContainer.scrollTo(0,0),this.modal.style.setProperty("$transition-time",this.speed/1e3+"s"),this.modal.classList.add("is-open"),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.disableScroll(),this.modalContainer.classList.add("popup-open"),this.modalContainer.classList.add(this.animation),setTimeout(()=>{this.modalContainer.classList.add("animate-open"),this.options.isOpen(this),this.isOpen=!0,this.focusTrap()},this.speed))}close(){this.modalContainer&&(this.modalContainer.classList.remove("animate-open"),this.modalContainer.classList.remove(this.animation),this.modal.classList.remove("is-open"),this.modalContainer.classList.remove("popup-open"),this.enableScroll(),document.body.style.scrollBehavior="auto",document.documentElement.style.scrollBehavior="auto",this.options.isClose(this),this.isOpen=!1,this.focusTrap(),this.reOpen)&&(this.reOpen=!1,this.open())}focusCatch(t){var e=this.modalContainer.querySelectorAll(this.focusElements),e=Array.prototype.slice.call(e),s=e.indexOf(document.activeElement);t.shiftKey&&0===s&&(e[e.length-1].focus(),t.preventDefault()),t.shiftKey||s!==e.length-1||(e[0].focus(),t.preventDefault())}focusTrap(){var t=this.modalContainer.querySelectorAll(this.focusElements);this.isOpen?t&&t[t.length-1].focus():this.previousActiveElement.focus()}disableScroll(){var t=window.scrollY;this.lockPadding(),document.body.classList.add("disable-scroll"),document.body.dataset.position=t,document.body.style.top=-t+"px"}enableScroll(){var t=parseInt(document.body.dataset.position,10);this.unlockPadding(),document.body.style.top="auto",document.body.classList.remove("disable-scroll"),window.scrollTo({top:t,left:0}),document.body.removeAttribute("data-position")}lockPadding(){let e=window.innerWidth-document.body.offsetWidth+"px";this.fixBlocks.forEach(t=>{t.style.paddingRight=e}),document.body.style.paddingRight=e}unlockPadding(){this.fixBlocks.forEach(t=>{t.style.paddingRight="0px"}),document.body.style.paddingRight="0px"}}const SliderDraggableCN="draggable";class NavSlider{constructor(t,e={}){this.containerNode=t,this.size=t.childElementCount,this.currentSlide=0,this.settings={scrollWidth:e.scrollWidth||null,SliderLineCN:e.SliderLineCN},this.setParameters=this.setParameters.bind(this),this.setEvents=this.setEvents.bind(this),this.resize=this.resize.bind(this),this.startDrag=this.startDrag.bind(this),this.stopDrag=this.stopDrag.bind(this),this.dragging=this.dragging.bind(this),this.setStylePosition=this.setStylePosition.bind(this),this.lineNode=this.containerNode.querySelector("."+this.settings.SliderLineCN),this.setParameters=this.setParameters.bind(this),this.setParameters(),this.setEvents()}setParameters(){var t=this.containerNode.getBoundingClientRect();this.widthLineNodes=this.containerNode.querySelector("."+this.settings.SliderLineCN).getBoundingClientRect().width,this.settings.scrollWidth=document.documentElement.scrollWidth,this.widthLineNodes+120>this.settings.scrollWidth&&(this.width=t.width,this.x=-this.currentSlide*this.width)}setEvents(){this.debonceResize=debonce(this.resize),window.addEventListener("resize",this.debonceResize),this.lineNode.addEventListener("pointerdown",this.startDrag),window.addEventListener("pointerup",this.stopDrag),window.addEventListener("pointercancel",this.stopDrag)}destroyEvents(){window.removeEventListener("resize",this.debonceResize),this.lineNode.removeEventListener("pointerdown",this.startDrag),window.removeEventListener("pointerup",this.stopDrag),window.removeEventListener("pointercancel",this.stopDrag)}resize(){this.setParameters(),this.setStylePosition()}startDrag(t){this.clickX=t.pageX,this.startX=this.x,this.containerNode.classList.add(SliderDraggableCN),window.addEventListener("pointermove",this.dragging)}stopDrag(){window.removeEventListener("pointermove",this.dragging),this.containerNode.classList.remove(SliderDraggableCN)}dragging(t){this.dragX=t.pageX;t=this.dragX-this.clickX;this.x=this.startX+t,this.setStylePosition()}setStylePosition(){this.lineNode.style.transform=`translate3d(${this.x}px, 0, 0)`,"translate3d(0px, 0px, 0px)"<=this.lineNode.style.transform?(this.lineNode.style.transform="translate3d(0px, 0, 0)",this.x=0):this.x<-Math.round(this.widthLineNodes-this.width)&&(this.lineNode.style.transform=`translate3d(${-Math.round(this.widthLineNodes-this.width+20)}px, 0, 0)`,this.x=-Math.round(this.widthLineNodes-this.width))}}const getTemplate=(t=[],e,s)=>{let i=e??"Placeholder default";e=t.map(t=>{let e="";return t.id===s&&(i=t.value,e="selected"),`
    <li class="select__item ${e}" data-type="item" data-id="${t.id}">${t.value}</li>`});return`
        <div class="select__backdrop" data-type="backdrop"></div>
        <div class="select__input" data-type="input">
            <span data-type="value">${i}</span>
            <span class="triangle-icon-open" data-type="arrow"></span>
          </div>
          <div class="select__dropdown">
            <ul class="select__list">
              ${e.join("")}
            </ul>
        </div>
    `};class Select{constructor(t,e){this.elem=document.querySelector(t),this.elem&&(this.options=e,this.selectedId=e.selectedId,this.#render(),this.#setup())}#render(){var{placeholder:t,data:e}=this.options;this.elem.classList.add("select"),this.elem.innerHTML=getTemplate(e,t,this.selectedId)}#setup(){this.clickHandler=this.clickHandler.bind(this),this.elem.addEventListener("click",this.clickHandler),this.arrow=this.elem.querySelector('[data-type="arrow"]'),this.value=this.elem.querySelector('[data-type="value"]')}clickHandler(t){var e=t.target.dataset["type"];"input"===e||t.target.closest(".select__input")?(document.querySelectorAll(".select").forEach(t=>{t.closest(".select-open")&&(t.classList.remove("select-open"),(t=t.querySelector(".triangle-icon-close")).classList.remove("triangle-icon-close"),t.classList.add("triangle-icon-open"))}),this.toggle()):"item"===e?(t=t.target.dataset.id,this.select(t)):"backdrop"===e&&this.close()}get isOpen(){return this.elem.classList.contains("select-open")}get current(){return this.options.data.find(t=>t.id===this.selectedId)}select(t){this.selectedId=t,this.value.textContent=this.current.value,this.elem.querySelectorAll('[data-type="item"]').forEach(t=>{t.classList.remove("selected")}),this.elem.querySelector(`[data-id="${t}"]`).classList.add("selected"),this.options.onSelect&&this.options.onSelect(this.current),this.close()}toggle(){this.isOpen?this.close():this.open()}open(){this.elem.classList.add("select-open"),this.arrow.classList.remove("triangle-icon-open"),this.arrow.classList.add("triangle-icon-close")}close(){this.elem.classList.remove("select-open"),this.arrow.classList.remove("triangle-icon-close"),this.arrow.classList.add("triangle-icon-open")}destroy(){this.elem.removeEventListener("click",this.clickHandler),this.elem.innerHTML=""}}class Tabs{constructor(t,e){this.options=Object.assign({isChanged:()=>{}},e),this.selector=t,this.tabs=document.querySelector(`[data-tabs="${t}"]`),this.tabs&&(this.tabList=this.tabs.querySelector(e.tabList),this.tabsBtns=this.tabList.querySelectorAll(e.tabsBtns),this.content=document.querySelector(e.content),this.contentItem=this.content.querySelectorAll(e.contentItem),this.check(),this.init(),this.events())}check(){1<document.querySelectorAll(`[data-tabs="${this.selector}"]`).length||(this.tabsBtns.length,this.contentItem.length)}init(){this.tabList.setAttribute("role","tablist"),this.tabsBtns.forEach((t,e)=>{t.setAttribute("role","tab"),t.setAttribute("tabindex","-1"),t.setAttribute("id",""+this.selector+(e+1)),t.classList.remove(this.options.linkActive)}),this.contentItem.forEach((t,e)=>{t.setAttribute("role","tabpanel"),t.setAttribute("tabindex","-1"),t.setAttribute("aria-labelledby",this.tabsBtns[e].id),t.classList.remove(this.options.contentBoxActive)}),this.tabsBtns[0].classList.add(this.options.linkActive),this.tabsBtns[0].removeAttribute("tabindex"),this.tabsBtns[0].setAttribute("aria-selected","true"),this.contentItem[0].classList.add(this.options.contentBoxActive)}events(){this.tabsBtns.forEach((t,i)=>{t.addEventListener("click",t=>{var e=this.tabList.querySelector("[aria-selected]");t.currentTarget!==e&&this.switchTabs(t.currentTarget,e)}),t.addEventListener("keydown",t=>{var e=Array.prototype.indexOf.call(this.tabsBtns,t.currentTarget);let s=null;null!==(s=37===t.which?e-1:39===t.which?e+1:40===t.which?"down":null)&&("down"===s?this.contentItem[i].focus():this.tabsBtns[s]&&this.switchTabs(this.tabsBtns[s],t.currentTarget))})})}switchTabs(t,e=this.tabs.querySelector("[aria-selected]")){t.focus(),t.removeAttribute("tabindex"),t.setAttribute("aria-selected","true"),e.removeAttribute("aria-selected"),e.setAttribute("tabindex","-1");t=Array.prototype.indexOf.call(this.tabsBtns,t),e=Array.prototype.indexOf.call(this.tabsBtns,e);this.contentItem[e].classList.remove("content__box--active"),this.contentItem[t].classList.add("content__box--active"),this.tabsBtns[e].classList.remove("content__tab-link--active"),this.tabsBtns[t].classList.add("content__tab-link--active"),this.options.isChanged(this)}}const triggers=()=>{var t=document.querySelectorAll(".faq-triggers__item");const s={active:"faq-triggers__text--active",btnActive:"faq-triggers__btn--active"},e=({currentTarget:t})=>{var e=t.querySelector("p"),t=t.querySelector(".faq-triggers__btn");e.classList.toggle(s.active),t.classList.toggle(s.btnActive)};t.forEach(t=>t.addEventListener("click",e))},SliderClassName="index-slider",SliderLineClassName="index-slider__line",SliderItemClassName="index-slider__item",SliderDraggableClassName="draggable",SliderDotsBoxClassName="index-slider__dots-box",SliderDotsClassName="index-slider__dots",SliderDotClassName="index-slider__dot",SliderDotActiveClassName="dot-active",SliderNavClassName="index-slider__btns",SliderNavLeftClassName="index-slider__btn-left",SliderNavRightClassName="index-slider__btn-right",SliderNavDisabledClassName="index-slider__btn-disabled";class Slider{constructor(t,e={}){this.containerNode=t,this.size=t.childElementCount,this.currentSlide=0,this.currentSlideWasChanged=!1,this.settings={margin:e.margin||0,innerElementsClass:e.innerElementsClass||null,arrow:e.arrow||!1,dots:e.dots||!1,popupEl:e.popupElem||null},this.manageHTML=this.manageHTML.bind(this),this.setParameters=this.setParameters.bind(this),this.setEvents=this.setEvents.bind(this),this.resize=this.resize.bind(this),this.startDrag=this.startDrag.bind(this),this.stopDrag=this.stopDrag.bind(this),this.dragging=this.dragging.bind(this),this.setStylePosition=this.setStylePosition.bind(this),this.progressBar=this.progressBar.bind(this),this.clickDots=this.clickDots.bind(this),this.moveToLeft=this.moveToLeft.bind(this),this.moveToRight=this.moveToRight.bind(this),this.changeActiveDotClass=this.changeActiveDotClass.bind(this),this.changeCurrentSlide=this.changeCurrentSlide.bind(this),this.changeDisabledBtn=this.changeDisabledBtn.bind(this),this.manageHTML(),this.setParameters(),this.setEvents()}manageHTML(){this.containerNode.classList.add(SliderClassName),this.containerNode.innerHTML=`
      <div class="${SliderLineClassName}">
        ${this.containerNode.innerHTML}
      </div>
        <div class="${SliderNavClassName}">
          <button class="${SliderNavLeftClassName}"></button>
          <button class="${SliderNavRightClassName}"></button>
        </div>
      <div class="${SliderDotsClassName}">
        <div class="${SliderDotsBoxClassName}"></div>
      </div>
    `,this.lineNode=this.containerNode.querySelector("."+SliderLineClassName),this.dotsNode=this.containerNode.querySelector("."+SliderDotsBoxClassName),this.slideNodes=Array.from(this.lineNode.children).map(t=>wrapElementByDiv({element:t,className:SliderItemClassName})),this.containerNode.matches(".top-slider__inner")?this.dotsNode.innerHTML=Array.from(Array(this.size).keys()).map(t=>`<button class="${SliderDotClassName} ${t===this.currentSlide?SliderDotActiveClassName:""}"></button>`).join(""):this.dotsNode.innerHTML=`<button class="${SliderDotClassName}"></button>`,this.dotsNodes=this.dotsNode.querySelectorAll("."+SliderDotClassName),this.btnLeft=document.querySelector("."+SliderNavLeftClassName),this.btnRight=document.querySelector("."+SliderNavRightClassName)}setParameters(){var t=this.containerNode.getBoundingClientRect();this.innerItemsName=this.containerNode.querySelectorAll("."+this.settings.innerElementsClass),this.innerItemsName&&document.documentElement.scrollWidth<975&&this.containerNode.matches(".slider__items")?(this.innerItemsName.forEach((t,e)=>{this.width=t.scrollWidth}),this.settings.margin=0,this.size=3*this.innerItemsName.length):this.innerItemsName&&975<document.documentElement.scrollWidth?(this.size=this.innerItemsName.length,this.width=t.width,this.currentSlide=Math.floor(this.currentSlide/3),this.settings.margin=this.settings.margin+5):this.width=t.width-this.settings.margin,this.containerNode.matches("#slider-popup")&&this.innerItemsName.forEach((t,e)=>{this.width=t.scrollWidth}),this.maximumX=-(this.size-1)*(this.width+this.settings.margin),this.x=-this.currentSlide*(this.width+this.settings.margin),this.resetStyleTransition(),this.lineNode.style.width=this.size*(this.width+this.settings.margin)+"px",this.setStylePosition(),this.changeDisabledBtn(),Array.from(this.slideNodes).forEach(t=>{t.style.width=this.width+"px",t.style.marginRight=this.settings.margin+"px"})}setEvents(){this.debonceResize=debonce(this.resize),window.addEventListener("resize",this.debonceResize),this.lineNode.addEventListener("pointerdown",this.startDrag),window.addEventListener("pointerup",this.stopDrag),window.addEventListener("pointercancel",this.stopDrag),this.containerNode.matches(".top-slider__inner")&&this.dotsNode.addEventListener("click",this.clickDots),this.btnLeft.addEventListener("click",this.moveToLeft),this.btnRight.addEventListener("click",this.moveToRight),null!==this.settings.popupEl&&this.settings.popupEl.forEach(t=>{t.addEventListener("click",this.debonceResize)})}destroyEvents(){window.removeEventListener("resize",this.debonceResize),this.lineNode.removeEventListener("pointerdown",this.startDrag),window.removeEventListener("pointerup",this.stopDrag),window.removeEventListener("pointercancel",this.stopDrag),this.dotsNode.removeEventListener("click",this.clickDots),this.btnLeft.removeEventListener("click",this.moveToLeft),this.btnRight.removeEventListener("click",this.moveToRight)}resize(){this.setParameters(),this.setStylePosition()}startDrag(t){this.currentSlideWasChanged=!1,this.clickX=t.pageX,this.startX=this.x,this.resetStyleTransition(),this.containerNode.classList.add(SliderDraggableClassName),window.addEventListener("pointermove",this.dragging)}stopDrag(){window.removeEventListener("pointermove",this.dragging),this.containerNode.classList.remove(SliderDraggableClassName),this.changeCurrentSlide()}dragging(t){this.dragX=t.pageX;var t=this.dragX-this.clickX,e=t/5;this.x=Math.max(Math.min(t+this.startX,e),this.maximumX+e),this.setStylePosition(),7<t&&0<t&&!this.currentSlideWasChanged&&0<this.currentSlide&&(this.currentSlideWasChanged=!0,this.currentSlide=this.currentSlide-1),t<-7&&t<0&&!this.currentSlideWasChanged&&this.currentSlide<this.size-1&&(this.currentSlideWasChanged=!0,this.currentSlide=this.currentSlide+1)}clickDots(t){if(this.containerNode.matches(".top-slider__inner")){var s=t.target.closest("button");if(s){let e;for(let t=0;t<this.dotsNodes.length;t++)if(this.dotsNodes[t]===s){e=t;break}e!=this.currentSlide&&(t=Math.abs(this.currentSlide-e),this.currentSlide=e,this.changeCurrentSlide(t))}}}moveToRight(){this.currentSlide>=this.size-1||(this.currentSlide=this.currentSlide+1,this.changeCurrentSlide())}moveToLeft(){this.currentSlide<=0||(this.currentSlide=this.currentSlide-1,this.changeCurrentSlide())}progressBar(){this.dotsNode.children[0].style.width=parseFloat(100*(this.currentSlide+1)/this.size)+"%"}changeCurrentSlide(t){this.x=-this.currentSlide*(this.width+this.settings.margin),this.setStylePosition(),this.setStyleTransition(t),this.containerNode.matches(".top-slider__inner")?this.changeActiveDotClass():this.progressBar(),this.changeDisabledBtn()}changeActiveDotClass(){for(let t=0;t<this.dotsNodes.length;t++)this.dotsNodes[t].classList.remove(SliderDotActiveClassName);this.dotsNodes[this.currentSlide].classList.add(SliderDotActiveClassName)}changeDisabledBtn(){this.currentSlide<=0?this.btnLeft.classList.add(SliderNavDisabledClassName):this.btnLeft.classList.remove(SliderNavDisabledClassName),this.currentSlide>=this.size-1?this.btnRight.classList.add(SliderNavDisabledClassName):this.btnRight.classList.remove(SliderNavDisabledClassName)}setStylePosition(){document.documentElement.scrollWidth<975&&this.containerNode.matches(".slider__items")?this.lineNode.style.transform=`translate3d(${this.x/3+this.settings.margin}px, 0, 0)`:this.lineNode.style.transform=`translate3d(${this.x}px, 0, 0)`}setStyleTransition(t=1){this.lineNode.style.transition=`all ${.25*t}s ease 0s`}resetStyleTransition(){this.lineNode.style.transition="all 0s ease 0s"}}function wrapElementByDiv({element:t,className:e}){var s=document.createElement("div");return s.classList.add(e),t.parentNode.insertBefore(s,t),s.appendChild(t),s}document.addEventListener("DOMContentLoaded",function(){var t=(t,e)=>{"loading"!==document.readyState?isInPage(document.getElementById(t))&&e(document.getElementById(t)):document.addEventListener("DOMContentLoaded",function(){isInPage(document.getElementById(t))&&e(document.getElementById(t))})},t=(t("slider-games",t=>new Slider(t,{margin:20,innerElementsClass:"slider__item",arrow:!0})),t("slider-header",t=>new Slider(t,{margin:15,innerElementsClass:"top-slider__item",dots:!0})),t("slider-popup",t=>new Slider(t,{margin:20,popupElem:document.querySelectorAll('[data-path="game-path"]'),innerElementsClass:"game-card"})),t("nav-content",t=>new NavSlider(t,{scrollWidth:document.documentElement.scrollWidth,SliderLineCN:"nav-content__track"})),new Modal({isOpen:t=>{},isClose:t=>{}}),{placeholder:"Выберите способ покупки",selectedId:"1",data:[{id:"1",value:"Аренда через семейный доступ"},{id:"2",value:"Аренда через личный доступ"}],onSelect(t){}});new Select("#select-n",{placeholder:"Выберите способ покупки",data:[{id:"1",value:"Способ покупки 1"},{id:"2",value:"Способ покупки 2"},{id:"3",value:"Способ покупки 3"},{id:"4",value:"Способ покупки 4"}],onSelect(t){}}),new Select("#select-1",t),new Select("#select-2",t),new Select("#select-3",t),new Select("#select-filter-1",{placeholder:"Выберите элемент",selectedId:"1",data:[{id:"1",value:"Дате заказа"}],onSelect(t){}}),new Select("#select-filter-2",{placeholder:"Выберите элемент",selectedId:"1",data:[{id:"1",value:"Сумме заказа"}],onSelect(t){},styles:[{background:"#3F434B;",boxShadow:"inset 0px 4px 16px rgba(0, 0, 0, 0.1);"}]}),new Tabs("faq-tab",{tabList:".content__tabs",tabsBtns:".content__tab-link",content:".faq-content-box",contentItem:".content__box",linkActive:"content__tab-link--active",contentBoxActive:"content__box--active",isChanged:t=>{}}),new Tabs("profile-tab",{tabList:".profile-content__tabs",tabsBtns:".content__tab-link",content:".profile-content-box",contentItem:".content__box",linkActive:"content__tab-link--active",contentBoxActive:"content__box--active",isChanged:t=>{}});document.querySelector(".faq")&&triggers(),filter(),basket()});