const getTemplate=(e=[],t,s)=>{let l=t??"Placeholder default";t=e.map(e=>{let t="";return e.id===s&&(l=e.value,t="selected"),`
    <li class="select__item ${t}" data-type="item" data-id="${e.id}">${e.value}</li>`});return`
        <div class="select__backdrop" data-type="backdrop"></div>
        <div class="select__input" data-type="input">
            <span data-type="value">${l}</span>
            <span class="triangle-icon-open" data-type="arrow"></span>
          </div>
          <div class="select__dropdown">
            <ul class="select__list">
              ${t.join("")}
            </ul>
        </div>
    `};class Select{constructor(e,t){this.elem=document.querySelector(e),this.elem&&(this.options=t,this.selectedId=t.selectedId,this.#render(),this.#setup())}#render(){var{placeholder:e,data:t}=this.options;this.elem.classList.add("select"),this.elem.innerHTML=getTemplate(t,e,this.selectedId)}#setup(){this.clickHandler=this.clickHandler.bind(this),this.elem.addEventListener("click",this.clickHandler),this.arrow=this.elem.querySelector('[data-type="arrow"]'),this.value=this.elem.querySelector('[data-type="value"]')}clickHandler(e){var t=e.target.dataset["type"];"input"===t||e.target.closest(".select__input")?(document.querySelectorAll(".select").forEach(e=>{e.closest(".select-open")&&(e.classList.remove("select-open"),(e=e.querySelector(".triangle-icon-close")).classList.remove("triangle-icon-close"),e.classList.add("triangle-icon-open"))}),this.toggle()):"item"===t?(e=e.target.dataset.id,this.select(e)):"backdrop"===t&&this.close()}get isOpen(){return this.elem.classList.contains("select-open")}get current(){return this.options.data.find(e=>e.id===this.selectedId)}select(e){this.selectedId=e,this.value.textContent=this.current.value,this.elem.querySelectorAll('[data-type="item"]').forEach(e=>{e.classList.remove("selected")}),this.elem.querySelector(`[data-id="${e}"]`).classList.add("selected"),this.options.onSelect&&this.options.onSelect(this.current),this.close()}toggle(){this.isOpen?this.close():this.open()}open(){this.elem.classList.add("select-open"),this.arrow.classList.remove("triangle-icon-open"),this.arrow.classList.add("triangle-icon-close")}close(){this.elem.classList.remove("select-open"),this.arrow.classList.remove("triangle-icon-close"),this.arrow.classList.add("triangle-icon-open")}destroy(){this.elem.removeEventListener("click",this.clickHandler),this.elem.innerHTML=""}}const selectOptions={placeholder:"Выберите элемент",selectedId:"1",data:[{id:"1",value:"Аренда через семейный доступ"},{id:"2",value:"Аренда через личный доступ"}],onSelect(e){}},select1=new Select("#select-1",selectOptions),select2=new Select("#select-2",selectOptions),select3=new Select("#select-3",selectOptions);